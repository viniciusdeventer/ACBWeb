@model List<ACBWeb.Models.Venda>

@{
    decimal total = Model != null && Model.Any() ? Model.First().Total ?? 0 : 0;
}

<div id="vendas-container">
    <table class='table table-hover mt-3 table-striped'>
        <thead>
            <tr>
                <th class="text-center">ID</th>
                <th class="text-center col-">Quantidade</th>
                <th class="text-center col-4">Produto</th>
                <th class="text-center col-2">Valor Unitário</th>
                <th class="text-center col-2">Subtotal</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                foreach (var venda in Model)
                {
                    <tr data-id="@venda.IdVenda" onclick="abrirModalVenda(@venda.IdVenda)" style="cursor: pointer;">
                        <td class="text-center align-middle">@venda.IdVenda</td>
                        <td class="text-center align-middle">@venda.Quantidade</td>
                        <td class="text-center align-middle">@venda.NomeItem</td>
                        <td class="text-center align-middle">@venda.ValorVenda</td>
                        <td class="text-center align-middle">@venda.Subtotal</td>
                    </tr>
                }
            }
        </tbody>
    </table>

    <div class="d-flex justify-content-end mt-2">
        <h5 class="text-primary fw-bold">Total - R$@total.ToString("F2")</h5>
    </div>

    @{
        ViewBag.ModalId = "modalVenda";
    }
    @await Html.PartialAsync("_Paginacao")
</div>
